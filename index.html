<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Interactive Artwork</title>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      background: black;
      font-family: monospace;
    }

    #image {
      width: 100%;
      height: auto;
      display: block;
      cursor: pointer;
    }

    /* Dialog box */
    #dialog {
      position: fixed;
      bottom: 10%;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      max-width: 600px;
      background: #111;
      color: #fff;
      border: 4px solid #fff;
      padding: 20px;
      display: none;
      image-rendering: pixelated;
    }

    #dialog p {
      margin: 0 0 15px 0;
      font-size: 18px;
    }

    .choice {
      display: inline-block;
      margin-right: 20px;
      padding: 6px 12px;
      border: 2px solid #fff;
      cursor: pointer;
    }

    .choice:hover {
      background: #fff;
      color: #000;
    }
  </style>
</head>

<body>

  <img id="image" src="images/1.png" alt="artwork">

  <div id="dialog">
    <p>speak or not?</p>
    <span class="choice" id="speak">Speak</span>
    <span class="choice" id="watch">Watch</span>
  </div>

  <script>
    let stage = 0;
    let path = null;
    let index = 0;

    const image = document.getElementById("image");
    const dialog = document.getElementById("dialog");

    const speakSequence = [
      "images/1_1_2.png",
      "images/1_1_2_1.png",
      "images/1_1_2_2.png",
      "images/1_1_2_3.png",
      "images/1_1_2_4.png"
    ];

    const watchSequence = [
      "images/1_1_1.png",
      "images/1_1_1_1.png",
      "images/1_1_1_2.png"
    ];

    document.body.addEventListener("click", () => {
      if (stage === 0) {
        image.src = "images/1_1.png";
        stage = 1;
      } 
      else if (stage === 1) {
        dialog.style.display = "block";
        stage = 2;
      }
    });

    document.getElementById("speak").addEventListener("click", (e) => {
      e.stopPropagation();
      dialog.style.display = "none";
      path = speakSequence;
      index = 0;
      image.src = path[index];
      stage = 3;
    });

    document.getElementById("watch").addEventListener("click", (e) => {
      e.stopPropagation();
      dialog.style.display = "none";
      path = watchSequence;
      index = 0;
      image.src = path[index];
      stage = 3;
    });

    image.addEventListener("click", (e) => {
      e.stopPropagation();
      if (stage === 3 && path && index < path.length - 1) {
        index++;
        image.src = path[index];
      }
    });
  </script>

</body>
</html>
